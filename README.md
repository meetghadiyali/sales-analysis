# sales-analysis

import pandas as pd 
import numpy as np 
import datetime as dt 
import plotly.express as px

df = pd.read_csv('supermarket_sales.csv')
print(df.head())

#Parsing Date in correct format
df['Date']=pd.to_datetime(df['Date'])

df['Date'] = df['Date'].apply(lambda x: dt.datetime.strftime(x, '%Y-%d-%m %H:%M:%S'))

df['Date']

#Checking for null values
df.isnull().sum()

#calculating Average rating for each product
avg_item_rating=df.groupby('Product line')['Rating'].mean().reset_index()
avg_item_rating

#plotting histogram for Average rating for each product
rating_fig=px.histogram(avg_item_rating,x='Product line',y='Rating',color='Product line',
            color_discrete_sequence=px.colors.sequential.RdBu,title='Average rating for each product')
rating_fig.show()


#Member Count
Member_count=df['Customer type'].value_counts().reset_index()
Member_count

#Products purchased by Memebers vs Normal customers 
item_sold=df.groupby(['Product line','Customer type'])['Quantity'].sum().reset_index()
item_sold

#Plotting Bar chart for Products purchased by Memebers vs Normal customers
item_sold_fig=px.bar(item_sold,x='Customer type',y='Quantity',color='Product line',barmode='group',title='Products purchased by Memebers vs Normal customers',
                    color_discrete_sequence=px.colors.sequential.RdBu)
item_sold_fig.show()


#Most used payment method by customers
pay_meth=df.groupby('Payment')['Product line'].count().reset_index()
pay_meth

#Gender Count
gender_count=df['Gender'].value_counts().reset_index()
gender_count

#Products purchased by Men vs Female customers 
item_gender=df.groupby(['Product line','Gender'])['Quantity'].sum().reset_index()
item_gender

#Plotting line chart for Products purchased by Male vs Female customers
item_gender_fig=px.line(item_gender,x='Product line',y='Quantity',color='Gender',title='Products purchased by Male vs Female customers'
                    )
item_gender_fig.show()

#Sales of products in each city
item_data=df.groupby(['City','Product line'])['Total'].sum().reset_index()
item_data

#plotting bar graph for Sales of products in each city
item_bar=px.bar(item_data,x='Product line',y='Total',color='City',barmode='group',title='Sales generated by every item in different cities',color_discrete_sequence=px.colors.sequential.RdBu)
item_bar.show()

#Total sales generated by each product
line_data=df.groupby('Product line')['Total'].sum().reset_index()
line_data

#plotting Total sales generated by each product
line_fig=px.bar(line_data,x='Total',y='Product line',color='Product line',title='Total sales generated by each product',color_discrete_sequence=px.colors.sequential.RdBu)
line_fig.show()

#Sales generated for each month
Sales_data=df.groupby('Date')['Total'].sum().reset_index()
Sales_data

#Plotting histogram for Sales generated for each month
sales_plot=px.line(Sales_data,x='Date',y='Total',title='Product Sales per Month',
                            color_discrete_sequence=px.colors.sequential.RdBu)
sales_plot.show()

#Quantity of each product sold
prod_sold=df.groupby('Product line')['Quantity'].sum().reset_index()
prod_sold

#Pie chart for Quantity of each product sold
prod_sold_fig=px.pie(prod_sold,names='Product line',values='Quantity',title='Quantity of each product sold'
                     ,color_discrete_sequence=px.colors.sequential.RdBu,hole=0.2)
prod_sold_fig.show()

#Ratings Member vs Normal for products
rate_memeber=df.groupby(['Customer type','Product line'])['Rating'].mean().reset_index()
color_discrete_map={'Member':'red','Normal':'Black'}
rate_memeber

#line chart for Ratings Member vs Normal for products
rate_graph=px.line(rate_memeber,x='Product line',y='Rating',color='Customer type',color_discrete_map=color_discrete_map,
                   title='Ratings Member vs Normal for products')
rate_graph.show()
